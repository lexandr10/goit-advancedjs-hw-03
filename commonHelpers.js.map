{"version":3,"file":"commonHelpers.js","sources":["../src/index.js"],"sourcesContent":["const elements = {\n  select: document.querySelector('.breed-select'),\n  cardCat: document.querySelector('.card-cat'),\n  loder: document.querySelector('.loader'),\n  error: document.querySelector('.error'),\n};\n\nelements.select.addEventListener('change', handlerInfoCat);\n\nfunction handlerInfoCat(event) {\n  elements.loder.removeAttribute('hidden', 'hidden');\n  serviceGetInfoCat(event.target.value)\n    .then(data => {\n      elements.cardCat.innerHTML = createMarkup(data);\n      elements.loder.setAttribute('hidden', 'hidden');\n    })\n    .catch(err => {\n      elements.loder.setAttribute('hidden', 'hidden');\n      elements.error.removeAttribute('hidden', 'hidden');\n      elements.cardCat.innerHTML;\n    });\n}\n\nfunction createOption(arr) {\n  return arr\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n}\n\nfunction serviceCat() {\n  const MAIN_API = 'https://api.thecatapi.com/v1';\n  const PAR = '/breeds';\n  const API_KEY =\n    'live_F1JswQHNXiab7OVBGWFCkT3vt4fZPImj8AOcBIs0fZYYk71ryO1jOZAeb8WeRARW';\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n  return fetch(`${MAIN_API}${PAR}?${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\nserviceCat()\n  .then(data => {\n    elements.select.insertAdjacentHTML('afterbegin', createOption(data));\n    elements.select.style.display = 'block';\n    elements.loder.setAttribute('hidden', 'hidden');\n  })\n\n  .catch(err => console.log(err));\n\nfunction serviceGetInfoCat(idCat) {\n  const MAIN_API = 'https://api.thecatapi.com/v1';\n  const PAR = '/images/search';\n  const API_KEY =\n    'live_F1JswQHNXiab7OVBGWFCkT3vt4fZPImj8AOcBIs0fZYYk71ryO1jOZAeb8WeRARW';\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n    breed_ids: idCat,\n  });\n  return fetch(`${MAIN_API}${PAR}?${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ breeds, url }) => `\n    <li class=\"list\">\n        <img width=\"400\" src=\"${url}\" alt=\"${breeds[0].name}\"/>\n        <h2>${breeds[0].name}</h2>\n        <p>${breeds[0].description}</p>\n        <h3>Temperament: ${breeds[0].temperament}</h3>\n      </li>`\n    )\n    .join('');\n}\n"],"names":["elements","handlerInfoCat","event","serviceGetInfoCat","data","createMarkup","err","createOption","arr","id","name","serviceCat","MAIN_API","PAR","API_KEY","params","resp","idCat","breeds","url"],"mappings":"ssBAAA,MAAMA,EAAW,CACf,OAAQ,SAAS,cAAc,eAAe,EAC9C,QAAS,SAAS,cAAc,WAAW,EAC3C,MAAO,SAAS,cAAc,SAAS,EACvC,MAAO,SAAS,cAAc,QAAQ,CACxC,EAEAA,EAAS,OAAO,iBAAiB,SAAUC,CAAc,EAEzD,SAASA,EAAeC,EAAO,CAC7BF,EAAS,MAAM,gBAAgB,SAAU,QAAQ,EACjDG,EAAkBD,EAAM,OAAO,KAAK,EACjC,KAAKE,GAAQ,CACZJ,EAAS,QAAQ,UAAYK,EAAaD,CAAI,EAC9CJ,EAAS,MAAM,aAAa,SAAU,QAAQ,CACpD,CAAK,EACA,MAAMM,GAAO,CACZN,EAAS,MAAM,aAAa,SAAU,QAAQ,EAC9CA,EAAS,MAAM,gBAAgB,SAAU,QAAQ,EACjDA,EAAS,QAAQ,SACvB,CAAK,CACL,CAEA,SAASO,EAAaC,EAAK,CACzB,OAAOA,EACJ,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAC,KAAW,kBAAkBD,MAAOC,YAAe,EAC9D,KAAK,EAAE,CACZ,CAEA,SAASC,GAAa,CACpB,MAAMC,EAAW,+BACXC,EAAM,UACNC,EACJ,wEACIC,EAAS,IAAI,gBAAgB,CACjC,QAASD,CACb,CAAG,EACD,OAAO,MAAM,GAAGF,IAAWC,KAAOE,GAAQ,EAAE,KAAKC,GAAQ,CACvD,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAChB,CAAG,CACH,CACAL,EAAY,EACT,KAAKP,GAAQ,CACZJ,EAAS,OAAO,mBAAmB,aAAcO,EAAaH,CAAI,CAAC,EACnEJ,EAAS,OAAO,MAAM,QAAU,QAChCA,EAAS,MAAM,aAAa,SAAU,QAAQ,CAClD,CAAG,EAEA,MAAMM,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAEhC,SAASH,EAAkBc,EAAO,CAChC,MAAML,EAAW,+BACXC,EAAM,iBACNC,EACJ,wEACIC,EAAS,IAAI,gBAAgB,CACjC,QAASD,EACT,UAAWG,CACf,CAAG,EACD,OAAO,MAAM,GAAGL,IAAWC,KAAOE,GAAQ,EAAE,KAAKC,GAAQ,CACvD,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAChB,CAAG,CACH,CAEA,SAASX,EAAaG,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CAAE,OAAAU,EAAQ,IAAAC,CAAG,IAAO;AAAA;AAAA,gCAEKA,WAAaD,EAAO,GAAG;AAAA,cACzCA,EAAO,GAAG;AAAA,aACXA,EAAO,GAAG;AAAA,2BACIA,EAAO,GAAG;AAAA,YAEhC,EACA,KAAK,EAAE,CACZ"}