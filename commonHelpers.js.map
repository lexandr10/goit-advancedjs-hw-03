{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["export function fetchBreeds() {\n  const MAIN_API = 'https://api.thecatapi.com/v1';\n  const PAR = '/breeds';\n  const API_KEY =\n    'live_F1JswQHNXiab7OVBGWFCkT3vt4fZPImj8AOcBIs0fZYYk71ryO1jOZAeb8WeRARW';\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n  return fetch(`${MAIN_API}${PAR}?${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\nexport function fetchCatByBreed(breedId) {\n  const MAIN_API = 'https://api.thecatapi.com/v1';\n  const PAR = '/images/search';\n  const API_KEY =\n    'live_F1JswQHNXiab7OVBGWFCkT3vt4fZPImj8AOcBIs0fZYYk71ryO1jOZAeb8WeRARW';\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n    breed_ids: breedId,\n  });\n  return fetch(`${MAIN_API}${PAR}?${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SlimSelect from 'slim-select';\nimport 'slim-select/styles';\nimport { fetchBreeds } from './cat-api';\nimport { fetchCatByBreed } from './cat-api';\nconst elements = {\n  selecta: document.querySelector('.breed-select'),\n  cardCat: document.querySelector('.card-cat'),\n  loder: document.querySelector('.loader'),\n  error: document.querySelector('.error'),\n};\nelements.selecta.addEventListener('change', handlerInfoCat);\nfunction handlerInfoCat(event) {\n  elements.loder.removeAttribute('hidden', 'hidden');\n  fetchCatByBreed(event.target.value)\n    .then(data => {\n      elements.cardCat.innerHTML = createMarkup(data);\n      elements.loder.setAttribute('hidden', 'hidden');\n      if (!data[0]) {\n        elements.cardCat.innerHTML;\n        iziToast.show({\n          title: 'Oops! Something went wrong! Try reloading the page!',\n        });\n      }\n    })\n    .catch(err => {\n      elements.loder.setAttribute('hidden', 'hidden');\n      iziToast.show({\n        title: 'Oops! Something went wrong! Try reloading the page!',\n      });\n      elements.cardCat.innerHTML;\n    });\n}\n\nfunction createOption(arr) {\n  return arr\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n}\n\nfetchBreeds()\n  .then(data => {\n    elements.selecta.insertAdjacentHTML('afterbegin', createOption(data));\n    elements.loder.setAttribute('hidden', 'hidden');\n    new SlimSelect({\n      select: '#multiple',\n    });\n  })\n\n  .catch(err =>\n    iziToast.show({\n      title: 'Oops! Something went wrong! Try reloading the page!',\n    })\n  );\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ breeds, url }) => `\n    <li class=\"list\">\n        <img width=\"400\" src=\"${url}\" alt=\"${breeds[0].name}\"/>\n        <h2>${breeds[0].name}</h2>\n        <p>${breeds[0].description}</p>\n        <h3>Temperament: ${breeds[0].temperament}</h3>\n      </li>`\n    )\n    .join('');\n}\n"],"names":["fetchBreeds","MAIN_API","PAR","API_KEY","params","resp","fetchCatByBreed","breedId","elements","handlerInfoCat","event","data","createMarkup","iziToast","err","createOption","arr","id","name","SlimSelect","breeds","url"],"mappings":"6vBAAO,SAASA,GAAc,CAC5B,MAAMC,EAAW,+BACXC,EAAM,UACNC,EACJ,wEACIC,EAAS,IAAI,gBAAgB,CACjC,QAASD,CACb,CAAG,EACD,OAAO,MAAM,GAAGF,IAAWC,KAAOE,GAAQ,EAAE,KAAKC,GAAQ,CACvD,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAChB,CAAG,CACH,CACO,SAASC,EAAgBC,EAAS,CACvC,MAAMN,EAAW,+BACXC,EAAM,iBACNC,EACJ,wEACIC,EAAS,IAAI,gBAAgB,CACjC,QAASD,EACT,UAAWI,CACf,CAAG,EACD,OAAO,MAAM,GAAGN,IAAWC,KAAOE,GAAQ,EAAE,KAAKC,GAAQ,CACvD,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAChB,CAAG,CACH,CCxBA,MAAMG,EAAW,CACf,QAAS,SAAS,cAAc,eAAe,EAC/C,QAAS,SAAS,cAAc,WAAW,EAC3C,MAAO,SAAS,cAAc,SAAS,EACvC,MAAO,SAAS,cAAc,QAAQ,CACxC,EACAA,EAAS,QAAQ,iBAAiB,SAAUC,CAAc,EAC1D,SAASA,EAAeC,EAAO,CAC7BF,EAAS,MAAM,gBAAgB,SAAU,QAAQ,EACjDF,EAAgBI,EAAM,OAAO,KAAK,EAC/B,KAAKC,GAAQ,CACZH,EAAS,QAAQ,UAAYI,EAAaD,CAAI,EAC9CH,EAAS,MAAM,aAAa,SAAU,QAAQ,EACzCG,EAAK,KACRH,EAAS,QAAQ,UACjBK,EAAS,KAAK,CACZ,MAAO,qDACjB,CAAS,EAET,CAAK,EACA,MAAMC,GAAO,CACZN,EAAS,MAAM,aAAa,SAAU,QAAQ,EAC9CK,EAAS,KAAK,CACZ,MAAO,qDACf,CAAO,EACDL,EAAS,QAAQ,SACvB,CAAK,CACL,CAEA,SAASO,EAAaC,EAAK,CACzB,OAAOA,EACJ,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAC,KAAW,kBAAkBD,MAAOC,YAAe,EAC9D,KAAK,EAAE,CACZ,CAEAlB,EAAa,EACV,KAAKW,GAAQ,CACZH,EAAS,QAAQ,mBAAmB,aAAcO,EAAaJ,CAAI,CAAC,EACpEH,EAAS,MAAM,aAAa,SAAU,QAAQ,EAC9C,IAAIW,EAAW,CACb,OAAQ,WACd,CAAK,CACL,CAAG,EAEA,MAAML,GACLD,EAAS,KAAK,CACZ,MAAO,qDACb,CAAK,CACL,EAEA,SAASD,EAAaI,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CAAE,OAAAI,EAAQ,IAAAC,CAAG,IAAO;AAAA;AAAA,gCAEKA,WAAaD,EAAO,GAAG;AAAA,cACzCA,EAAO,GAAG;AAAA,aACXA,EAAO,GAAG;AAAA,2BACIA,EAAO,GAAG;AAAA,YAEhC,EACA,KAAK,EAAE,CACZ"}